<!DOCTYPE html>
<html>
    <head>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
        />
        <title>{{ title | default: "My Blog" }}</title>
    </head>
    <body>
        <script lang="js">
            const themeStr = 'data-theme';

            if (localStorage.getItem(themeStr)) {
                document.documentElement.setAttribute('data-theme', localStorage.getItem(themeStr));
            }

            function toggleTheme() {
                let theme;
                if (!localStorage.getItem(themeStr)) {
                    theme = window.matchMedia('(prefers-color-scheme: dark)') ? 'light' : 'dark';
                }
                else {
                    theme = localStorage.getItem(themeStr) === 'dark' ? 'light' : 'dark';
                }
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem(themeStr, theme);
            }
        </script>
        <header>
            <h1>{{ title | default: "My Blog" }}</h1>
            <button onclick="toggleTheme()">â˜¼</button>
        </header>
        <main>
            {{ content }}
        </main>
    </body>
</html>
